<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .barra {
            text-align: center;
            height: 1rem;
            width: 50%;
            background-color: yellow;
            margin: 0.5rem;
        }

        #barra2 {
            background-color: red;
        }

        body {
            text-align: center;
        }

        img {
            with: 20px;
        }
    </style>
</head>

<body>
    <input type="submit" value="play" onclick=play()>
    <input type="submit" value="pause" onclick=pause()>
    <div id="barra1" class="barra">C1</div>
    <div id="barra2" class="barra">C2</div>

    <script>
        let barra1 = document.getElementById("barra1");
        let barra2 = document.getElementById("barra2");

        var params = {
            duration: 5000,
            iterations: Infinity,
            direction: "alternate"
        }
        var keyframes = [
            { transform: 'translateX(0)' },
            { transform: 'translateX(100%)' }
        ];

        var keyframes2 = [
            { transform: 'translateX(100%)' },
            { transform: 'translateX(0px)', backgroundColor: 'red' }
        ];
        let b1 = barra1.animate(keyframes1, params);
        let b2 = barra2.animate(keyframes2, params);


        function pause() {
            b1.pause();
            b2.pause();
        }

        function play() {
            b1.play();
            b2.play();
        }

    </script>
</body>

</html>